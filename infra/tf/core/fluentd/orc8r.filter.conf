<filter kubernetes.**orc8r-proxy**>
  @id filter_orc8r_proxy
  @type parser
  key_name message
  reserve_data true
  remove_key_name_field true
  <parse>
    @type multi_format
    <pattern>
      format regexp
      expression /^(?<time>.*)@\|@(?<remote_addr>.*)@\|@(?<http_host>.*)@\|@(?<server_port>.*)@\|@(?<request>.*)@\|@(?<status>.*)@\|@(?<body_bytes_sent>.*)@\|@(?<request_time>.*)@\|@(?<alpn>.*)@\|@(?<tls_client_serial>.*)@\|@(?<tls_client_subject_name>.*)@\|@(?<tls_session_reused>.*)@\|@(?<tls_sni>.*)@\|@(?<tls_protocol>.*)@\|@(?<tls_cipher>.*)@\|@(?<backend_host>.*)@\|@(?<backend_port>.*)$/
      time_format %iso8601
    </pattern>
    <pattern>
      format none
    </pattern>
  </parse>
</filter>
<filter kubernetes.**orc8r-nginx**>
  @id filter_orc8r_nginx
  @type parser
  key_name message
  reserve_data true
  remove_key_name_field true
  emit_invalid_record_to_error false
  <parse>
    @type multi_format
    <pattern>
      format json
    </pattern>
    <pattern>
      format none
    </pattern>
  </parse>
</filter>

